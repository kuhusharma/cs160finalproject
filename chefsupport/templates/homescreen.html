{% load static %}

<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  	<title>ChefSupport</title>

	<!-- Google Fonts-->	
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500&display=swap" rel="stylesheet">	
	
	<!--Font Awesome-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	

	<!--Bootstrap-->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js" integrity="sha512-WBbdKQKeIQFarq1hrOxNL/gnp0Tqh25fn0z3X1po+ej8iuHhHdp6Sh9l+tghGw5L1bsvtzjeuSKsL80RW3XdYw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="https://code.jquery.com/jquery-migrate-3.0.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

	<!--Jquery-UI-->
	<link href="https://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.min.css" rel="stylesheet"></link>
	<script src="https://code.jquery.com/ui/1.10.2/jquery-ui.min.js"></script>	

	
	<script>
	$( function() {
		var availableTags = [
		"butter",
		"eggs",
		"cheese",
		"milk",
		"yogurt",
		"cream cheese",
		"cottage cheese",
		"ice cream",
		"onion",
		"garlic",
		"tomato",
		"lettuce",
		"potato",
		"carrot",
		"bell pepper",	
		"basil",	
		"broccoli",
		"corn",
		"spinach",
		"mushroom",
		"green beans",
		"celery",
		"avocado",
		"cilantro",
		"artichoke",
		"cabbage",
		"cauliflower",
		"kale",
		"asparagus",
		"lemon",
		"apple",
		"banana",
		"lime",
		"strawberry",
		"orange",
		"pineapple",
		"blueberry",
		"raisin",
		"coconut",
		"grape",
		"peach",
		"berries",
		"plum",
		"mango",
		"pear",
		"apricot",
		"waterelon",
		"pomegranate",
		"nectarine",
		"tangerine",
		"rice",
		"pasta",
		"flour",
		"bread",
		];
		$("#tags").autocomplete({
			source: availableTags
		});
	});


	$(document).keyup(function (e) {
		if ($(".input:focus") && (e.keyCode === 13)) {
			var children = document.getElementById('ingredients-list').children;
			let unique = true; 
			for (let i = 0; i < children.length; i++) {
				if (children[i].innerText === document.getElementById('tags').value) {
					unique = false;
					alert("ingredient already added");
				}
			}
			if (unique) {
				// IMPLEMENT ONLY ABLE TO ADD AVAILABLE OPTIONS
				$("#ingredients-list").append("<li>" + $("#tags").val() + "</li>");
				var count = parseInt(document.getElementById('counter').innerHTML, 10);
				count++;
				document.getElementById("counter").innerHTML = count;
			}
		}
 	});


	</script>
	<style type="text/css">
	* {
		font-family: 'Quicksand', sans-serif;
	}

	html, body {
		margin: 0; height: 100%; overflow: hidden
	}


	.container {
		background-color: #D3D3D3;
		min-width: 100vw;
		min-height: 98vh;
	}

	.section {
		background-color: #F7EDE2;
		height: 80vh;
		border-radius: 25px;
	}	

	.accent {
		background-color: #A6D3A0;
		border-radius: 25px;
	}

	.hr {
		background-color: black;
	}

	.dropdown {
		height: 6.5vh;
		display: flex;
    	align-items: center;
	}

	.find-recipe {
		position: absolute;
		bottom: 16px;
		right: 28px;
	}

	.find-recipe-container {
		position: relative;
	}

	.plus {
		font-size: 32px;
	}

	.dropdown-menu{
		max-height: 375px;
		overflow-y: auto;
	}


	</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand" href="/chefsupport/">ChefSupport</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
		  <div class="navbar-nav ml-auto">
			<a class="nav-item nav-link" href="#">Find a recipe from ingredients</a>
			<a class="nav-item nav-link" href="ingredients">Find ingredients for a recipe</a>
		  </div>
		</div>
	</nav>
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-5 mt-4 mr-5">
				<div class="h4">Enter your ingredients</div>
			</div>
			<div class="col-5 mt-4 ml-5">
				<div class="d-flex align-items-center">
					<div class="h4">Your ingredients (<span id="counter" class="h4">0</span>)</div>
					<button type="button" class='btn btn-dark ml-auto' onclick="clearIngredients()">Clear Ingredients List</button>
				</div>
			</div>
		</div>
		<div class="row justify-content-center">
			<div class="col-5 mt-2 mr-5 p-4 section">
				<input class="form-control w-50 accent mt-2" type="text" placeholder="Seach for ingredients" id="tags">
				<div class="ingredients-container mt-4">
					<hr>
					<div class="dropdown">
						<div class="h4">Dairy</div> 
						<div class="btn-group dropleft ml-auto">
							<button class="btn plus" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+</button>
							<div class="dropdown-menu">
								<button type="button" class="dropdown-item">butter</button>
								<a class="dropdown-item" href="#">eggs</a>
								<a class="dropdown-item" href="#">cheese</a>
								<a class="dropdown-item" href="#">milk</a>
								<a class="dropdown-item" href="#">yogurt</a>
								<a class="dropdown-item" href="#">cream cheese</a>
								<a class="dropdown-item" href="#">cottage cheese</a>
								<a class="dropdown-item" href="#">ice cream</a>
							</div>
						</div>
					</div>
					<hr>
					<div class="dropdown">
						<div class="h4">Vegetables</div> 
						<div class="btn-group dropleft ml-auto">
							<button class="btn plus" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">onion</a>
								<a class="dropdown-item" href="#">garlic</a>
								<a class="dropdown-item" href="#">tomato</a>
								<a class="dropdown-item" href="#">lettuce</a>
								<a class="dropdown-item" href="#">potato</a>
								<a class="dropdown-item" href="#">carrot</a>
								<a class="dropdown-item" href="#">bell pepper</a>
								<a class="dropdown-item" href="#">basil</a>
								<a class="dropdown-item" href="#">broccoli</a>
								<a class="dropdown-item" href="#">corn</a>
								<a class="dropdown-item" href="#">spinach</a>
								<a class="dropdown-item" href="#">mushroom</a>
								<a class="dropdown-item" href="#">green beans</a>
								<a class="dropdown-item" href="#">celery</a>
								<a class="dropdown-item" href="#">avocado</a>
								<a class="dropdown-item" href="#">cilantro</a>
								<a class="dropdown-item" href="#">artichoke</a>
								<a class="dropdown-item" href="#">cabbage</a>
								<a class="dropdown-item" href="#">cauliflower</a>
								<a class="dropdown-item" href="#">kale</a>
								<a class="dropdown-item" href="#">asparagus</a>
							</div>
						</div>
					</div>
					<hr>
					<div class="dropdown">
						<div class="h4">Fruits</div> 
						<div class="btn-group dropright ml-auto">
							<button class="btn plus" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">lemon</a>
								<a class="dropdown-item" href="#">apple</a>
								<a class="dropdown-item" href="#">banana</a>
								<a class="dropdown-item" href="#">lime</a>
								<a class="dropdown-item" href="#">strawberry</a>
								<a class="dropdown-item" href="#">orange</a>
								<a class="dropdown-item" href="#">pineapple</a>
								<a class="dropdown-item" href="#">blueberry</a>
								<a class="dropdown-item" href="#">raisin</a>
								<a class="dropdown-item" href="#">coconut</a>
								<a class="dropdown-item" href="#">grape</a>
								<a class="dropdown-item" href="#">peach</a>
								<a class="dropdown-item" href="#">berries</a>
								<a class="dropdown-item" href="#">plum</a>
								<a class="dropdown-item" href="#">mango</a>
								<a class="dropdown-item" href="#">pear</a>
								<a class="dropdown-item" href="#">apricot</a>
								<a class="dropdown-item" href="#">watermelon</a>
								<a class="dropdown-item" href="#">pomegranate</a>
								<a class="dropdown-item" href="#">nectarine</a>
								<a class="dropdown-item" href="#">tangerine</a>
							</div>
						</div>
					</div>
					<hr>
					<div class="dropdown">
						<div class="h4">Baking + Grains</div> 
						<div class="btn-group dropup ml-auto">
							<button class="btn plus" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">rice</a>
								<a class="dropdown-item" href="#">pasta</a>
								<a class="dropdown-item" href="#">flour</a>
								<a class="dropdown-item" href="#">bread</a>
								<a class="dropdown-item" href="#">noodle</a>
								<a class="dropdown-item" href="#">ramen</a>
								<a class="dropdown-item" href="#">biscuits</a>
								<a class="dropdown-item" href="#">starch</a>
								<a class="dropdown-item" href="#">wheat</a>
								<a class="dropdown-item" href="#">cream of wheat</a>
								<a class="dropdown-item" href="#">cornbread</a>
								<a class="dropdown-item" href="#">cornflour</a>
								<a class="dropdown-item" href="#">pizza dough</a>
								<a class="dropdown-item" href="#">english muffin</a>
								<a class="dropdown-item" href="#">hot dog bun</a>
								<a class="dropdown-item" href="#">croutons</a>
								<a class="dropdown-item" href="#">ravioli</a>
								<a class="dropdown-item" href="#">gnocchi</a>
								<a class="dropdown-item" href="#">croissants</a>
								<a class="dropdown-item" href="#">buckwheat</a>
								<a class="dropdown-item" href="#">almond extract</a>
								<a class="dropdown-item" href="#">vanilla extract</a>
							</div>
						</div>
					</div>
					<hr>
					<div class="dropdown">
						<div class="h4">Protein</div> 
						<div class="btn-group dropup ml-auto">
							<button class="btn plus" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">chicken</a>
								<a class="dropdown-item" href="#">beef</a>
								<a class="dropdown-item" href="#">bacon</a>
								<a class="dropdown-item" href="#">ham</a>
								<a class="dropdown-item" href="#">turkey</a>
								<a class="dropdown-item" href="#">pork</a>
								<a class="dropdown-item" href="#">pepperoni</a>
								<a class="dropdown-item" href="#">chorizo</a>
								<a class="dropdown-item" href="#">salami</a>
								<a class="dropdown-item" href="#">spam</a>
								<a class="dropdown-item" href="#">lamb</a>
								<a class="dropdown-item" href="#">prosciutto</a>
								<a class="dropdown-item" href="#">tuna</a>
								<a class="dropdown-item" href="#">salmon</a>
								<a class="dropdown-item" href="#">cod</a>
								<a class="dropdown-item" href="#">tilapia</a>
								<a class="dropdown-item" href="#">trout</a>
								<a class="dropdown-item" href="#">sardines</a>
								<a class="dropdown-item" href="#">anchovies</a>
								<a class="dropdown-item" href="#">shrimp</a>
								<a class="dropdown-item" href="#">crab</a>
								<a class="dropdown-item" href="#">prawns</a>
								<a class="dropdown-item" href="#">scallops</a>
								<a class="dropdown-item" href="#">clams</a>
								<a class="dropdown-item" href="#">lobster</a>
								<a class="dropdown-item" href="#">mussels</a>
								<a class="dropdown-item" href="#">oysters</a>
								<a class="dropdown-item" href="#">squid</a>
							</div>
						</div>
					</div>
					<hr>
					<div class="dropdown">
						<div class="h4">Spices, Seasonings, Sauces, Oils, Other</div> 
						<div class="btn-group dropup ml-auto">
							<button class="btn plus" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">+</button>
							<div class="dropdown-menu">
								<a class="dropdown-item" href="#">olive oil</a>
								<a class="dropdown-item" href="#">soy sauce</a>
								<a class="dropdown-item" href="#">sesame oil</a>
								<a class="dropdown-item" href="#">rice wine vinegar</a>
								<a class="dropdown-item" href="#">peanut oil</a>
								<a class="dropdown-item" href="#">basil pesto</a>
								<a class="dropdown-item" href="#">chocolate syrup</a>
								<a class="dropdown-item" href="#">honey</a>
							</div>
						</div>
					</div>
					<hr>
				</div>
			</div>
			<div class="col-5 mt-2 ml-5 p-5 find-recipe-container section">
				<ul id="ingredients-list">
				</ul>
				<button type="button" class="btn mb-2 find-recipe accent">Find a Recipe</button>
			</div>
		</div>
	</div>
	<script>

	var elements = document.getElementsByClassName('dropdown-item');

	Array.from(elements).forEach((element) => {
		element.addEventListener('click', (event) => {
			var children = document.getElementById('ingredients-list').children;
			let unique = true; 
			for (let i = 0; i < children.length; i++) {
				if (children[i].innerText === event.target.innerText) {
					unique = false;
					alert("ingredient already added");
				}
			}
			if (unique) {
				var ul = document.getElementById("ingredients-list");
				var li = document.createElement("li");
				li.innerHTML = event.target.innerText;
				ul.appendChild(li);
				var count = parseInt(document.getElementById('counter').innerHTML, 10);
				count++;
				document.getElementById("counter").innerHTML = count;
			}		
		});
	});

	function clearIngredients() {
		var ul = document.getElementById("ingredients-list");
		ul.innerHTML = "";
		document.getElementById("counter").innerHTML = 0;
	}

	</script>
</body>
</html>